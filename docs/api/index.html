<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>cel-ts - v0.1.0-alpha</title><meta name="description" content="Documentation for cel-ts"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://github.com/example/cel-ts">GitHub</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">cel-ts - v0.1.0-alpha</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>cel-ts - v0.1.0-alpha</h1></div><div class="tsd-panel tsd-typography"><a id="md:cel-ts" class="tsd-anchor"></a><h1 class="tsd-anchor-link">cel-ts<a href="#md:cel-ts" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://badge.fury.io/js/cel-ts" target="_blank" class="external"><img src="https://badge.fury.io/js/cel-ts.svg" alt="npm version"></a>
<a href="https://opensource.org/licenses/Apache-2.0" target="_blank" class="external"><img src="https://img.shields.io/badge/License-Apache_2.0-blue.svg" alt="License"></a></p>
<p>TypeScript implementation of the <a href="https://github.com/google/cel-spec" target="_blank" class="external">Common Expression Language (CEL)</a>.</p>
<p>CEL is a non-Turing complete expression language designed by Google for fast, safe, and portable evaluation of configuration and policy expressions.</p>
<a id="md:features" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Features<a href="#md:features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>cel-go Compatible API</strong> - Familiar interface for cel-go users</li>
<li><strong>Type Safe</strong> - Full TypeScript support with strict typing</li>
<li><strong>Zero Dependencies</strong> - Only ANTLR4 runtime required</li>
<li><strong>Fast</strong> - Compile once, evaluate many times</li>
<li><strong>Extensible</strong> - Add custom functions and types</li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-7">npm</span><span class="hl-1"> </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">cel-ts</span><br/><span class="hl-4"># or</span><br/><span class="hl-7">pnpm</span><span class="hl-1"> </span><span class="hl-3">add</span><span class="hl-1"> </span><span class="hl-3">cel-ts</span><br/><span class="hl-4"># or</span><br/><span class="hl-7">bun</span><span class="hl-1"> </span><span class="hl-3">add</span><span class="hl-1"> </span><span class="hl-3">cel-ts</span>
</code><button type="button">Copy</button></pre>

<a id="md:quick-start" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Quick Start<a href="#md:quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">newEnv</span><span class="hl-1">, </span><span class="hl-2">Variable</span><span class="hl-1">, </span><span class="hl-2">IntType</span><span class="hl-1">, </span><span class="hl-2">StringType</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;cel-ts&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Create an environment with variable declarations</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">env</span><span class="hl-1"> = </span><span class="hl-7">newEnv</span><span class="hl-1">(</span><span class="hl-7">Variable</span><span class="hl-1">(</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">, </span><span class="hl-2">StringType</span><span class="hl-1">), </span><span class="hl-7">Variable</span><span class="hl-1">(</span><span class="hl-3">&quot;age&quot;</span><span class="hl-1">, </span><span class="hl-2">IntType</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// Compile an expression</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">ast</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">compile</span><span class="hl-1">(</span><span class="hl-3">&#39;name + &quot; is &quot; + string(age) + &quot; years old&quot;&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Create a program</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">program</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">program</span><span class="hl-1">(</span><span class="hl-2">ast</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Evaluate with variables</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-2">program</span><span class="hl-1">.</span><span class="hl-7">eval</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-3">&quot;Alice&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">age:</span><span class="hl-1"> </span><span class="hl-8">30</span><span class="hl-5">n</span><span class="hl-1">, </span><span class="hl-4">// CEL integers are bigint</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-7">value</span><span class="hl-1">()); </span><span class="hl-4">// &quot;Alice is 30 years old&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:api-reference" class="tsd-anchor"></a><h2 class="tsd-anchor-link">API Reference<a href="#md:api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:environment" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Environment<a href="#md:environment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">newEnv</span><span class="hl-1">, </span><span class="hl-2">newCustomEnv</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;cel-ts&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Create environment with standard library</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">env</span><span class="hl-1"> = </span><span class="hl-7">newEnv</span><span class="hl-1">(...</span><span class="hl-2">options</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Create environment without standard library</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">customEnv</span><span class="hl-1"> = </span><span class="hl-7">newCustomEnv</span><span class="hl-1">(...</span><span class="hl-2">options</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Extend an existing environment</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">extendedEnv</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">extend</span><span class="hl-1">(...</span><span class="hl-2">additionalOptions</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:environment-options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Environment Options<a href="#md:environment-options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">Variable</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">Function</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">Overload</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">MemberOverload</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">Container</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">DisableStandardLibrary</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">DisableTypeChecking</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;cel-ts&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Declare a variable</span><br/><span class="hl-7">Variable</span><span class="hl-1">(</span><span class="hl-3">&quot;name&quot;</span><span class="hl-1">, </span><span class="hl-2">StringType</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Declare a function</span><br/><span class="hl-7">Function</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;greet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">Overload</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;greet_string&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    [</span><span class="hl-2">StringType</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-2">StringType</span><span class="hl-1">,</span><br/><span class="hl-1">    (</span><span class="hl-2">arg</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">StringValue</span><span class="hl-1">(</span><span class="hl-3">`Hello, </span><span class="hl-5">${</span><span class="hl-2">arg</span><span class="hl-9">.</span><span class="hl-7">value</span><span class="hl-9">()</span><span class="hl-5">}</span><span class="hl-3">!`</span><span class="hl-1">)</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-4">// Declare a member function</span><br/><span class="hl-7">Function</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-3">&quot;upper&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-7">MemberOverload</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;string_upper&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    [</span><span class="hl-2">StringType</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-2">StringType</span><span class="hl-1">,</span><br/><span class="hl-1">    (</span><span class="hl-2">arg</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">StringValue</span><span class="hl-1">(</span><span class="hl-7">String</span><span class="hl-1">(</span><span class="hl-2">arg</span><span class="hl-1">.</span><span class="hl-7">value</span><span class="hl-1">()).</span><span class="hl-7">toUpperCase</span><span class="hl-1">())</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:types" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Types<a href="#md:types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">BoolType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">IntType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">UintType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">DoubleType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">StringType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">BytesType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">DurationType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">TimestampType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">NullType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">DynType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">ListType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">MapType</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;cel-ts&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Parameterized types</span><br/><span class="hl-7">ListType</span><span class="hl-1">(</span><span class="hl-2">StringType</span><span class="hl-1">); </span><span class="hl-4">// list(string)</span><br/><span class="hl-7">MapType</span><span class="hl-1">(</span><span class="hl-2">StringType</span><span class="hl-1">, </span><span class="hl-2">IntType</span><span class="hl-1">); </span><span class="hl-4">// map(string, int)</span>
</code><button type="button">Copy</button></pre>

<a id="md:compilation-and-evaluation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Compilation and Evaluation<a href="#md:compilation-and-evaluation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">// Parse only (no type checking)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">parsedAst</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">parse</span><span class="hl-1">(</span><span class="hl-3">&quot;1 + 2&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Parse and type check</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">checkedAst</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">compile</span><span class="hl-1">(</span><span class="hl-3">&quot;1 + 2&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Type check a parsed AST</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">typedAst</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">check</span><span class="hl-1">(</span><span class="hl-2">parsedAst</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Create executable program</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">program</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">program</span><span class="hl-1">(</span><span class="hl-2">checkedAst</span><span class="hl-1">);</span><br/><br/><span class="hl-4">// Evaluate</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-2">program</span><span class="hl-1">.</span><span class="hl-7">eval</span><span class="hl-1">({ </span><span class="hl-2">x:</span><span class="hl-1"> </span><span class="hl-8">10</span><span class="hl-5">n</span><span class="hl-1"> });</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">result</span><span class="hl-1">.</span><span class="hl-7">value</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<a id="md:error-handling" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Error Handling<a href="#md:error-handling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">CELError</span><span class="hl-1">, </span><span class="hl-2">CompileError</span><span class="hl-1">, </span><span class="hl-2">ParseError</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;cel-ts&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">ast</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">compile</span><span class="hl-1">(</span><span class="hl-3">&quot;invalid expression +++&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-0">catch</span><span class="hl-1"> (</span><span class="hl-2">e</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">e</span><span class="hl-1"> </span><span class="hl-5">instanceof</span><span class="hl-1"> </span><span class="hl-10">ParseError</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">&quot;Parse error:&quot;</span><span class="hl-1">, </span><span class="hl-2">e</span><span class="hl-1">.</span><span class="hl-2">message</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">e</span><span class="hl-1"> </span><span class="hl-5">instanceof</span><span class="hl-1"> </span><span class="hl-10">CompileError</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">&quot;Type error:&quot;</span><span class="hl-1">, </span><span class="hl-2">e</span><span class="hl-1">.</span><span class="hl-2">message</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-3">&quot;Issues:&quot;</span><span class="hl-1">, </span><span class="hl-2">e</span><span class="hl-1">.</span><span class="hl-2">issues</span><span class="hl-1">.</span><span class="hl-7">toString</span><span class="hl-1">());</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:cel-expression-examples" class="tsd-anchor"></a><h2 class="tsd-anchor-link">CEL Expression Examples<a href="#md:cel-expression-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="cel">// Arithmetic
1 + 2 * 3              // 7
10 / 3                 // 3
10 % 3                 // 1

// Strings
"hello" + " " + "world"
"hello".size()         // 5
"hello".contains("ell") // true
"hello".startsWith("he") // true

// Comparisons
x > 10 && x < 20
name == "admin" || role == "superuser"

// Ternary
age >= 18 ? "adult" : "minor"

// Lists
[1, 2, 3].size()       // 3
[1, 2, 3][0]           // 1
2 in [1, 2, 3]         // true

// Maps
{"a": 1, "b": 2}["a"]  // 1
{"a": 1, "b": 2}.a     // 1

// Type conversions
int("42")              // 42
string(123)            // "123"
double(10)             // 10.0
</code><button type="button">Copy</button></pre>

<a id="md:custom-functions" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Custom Functions<a href="#md:custom-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">newEnv</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">Function</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">Overload</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">IntType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">StringType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">StringValue</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">IntValue</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;cel-ts&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">env</span><span class="hl-1"> = </span><span class="hl-7">newEnv</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">// Global function: repeat(&quot;ab&quot;, 3) -&gt; &quot;ababab&quot;</span><br/><span class="hl-1">  </span><span class="hl-7">Function</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;repeat&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">Overload</span><span class="hl-1">(</span><span class="hl-3">&quot;repeat_string_int&quot;</span><span class="hl-1">, [</span><span class="hl-2">StringType</span><span class="hl-1">, </span><span class="hl-2">IntType</span><span class="hl-1">], </span><span class="hl-2">StringType</span><span class="hl-1">, (</span><span class="hl-2">args</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">str</span><span class="hl-1"> = </span><span class="hl-7">String</span><span class="hl-1">(</span><span class="hl-2">args</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">value</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">count</span><span class="hl-1"> = </span><span class="hl-7">Number</span><span class="hl-1">(</span><span class="hl-2">args</span><span class="hl-1">[</span><span class="hl-8">1</span><span class="hl-1">].</span><span class="hl-7">value</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">StringValue</span><span class="hl-1">(</span><span class="hl-2">str</span><span class="hl-1">.</span><span class="hl-7">repeat</span><span class="hl-1">(</span><span class="hl-2">count</span><span class="hl-1">));</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">  ),</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Member function: &quot;hello&quot;.reverse() -&gt; &quot;olleh&quot;</span><br/><span class="hl-1">  </span><span class="hl-7">Function</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;reverse&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">MemberOverload</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-3">&quot;string_reverse&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      [</span><span class="hl-2">StringType</span><span class="hl-1">],</span><br/><span class="hl-1">      </span><span class="hl-2">StringType</span><span class="hl-1">,</span><br/><span class="hl-1">      (</span><span class="hl-2">arg</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">StringValue</span><span class="hl-1">(</span><span class="hl-7">String</span><span class="hl-1">(</span><span class="hl-2">arg</span><span class="hl-1">.</span><span class="hl-7">value</span><span class="hl-1">()).</span><span class="hl-7">split</span><span class="hl-1">(</span><span class="hl-3">&quot;&quot;</span><span class="hl-1">).</span><span class="hl-7">reverse</span><span class="hl-1">().</span><span class="hl-7">join</span><span class="hl-1">(</span><span class="hl-3">&quot;&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">ast</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">compile</span><span class="hl-1">(</span><span class="hl-3">&#39;repeat(&quot;ab&quot;, 3) + &quot; - &quot; + &quot;hello&quot;.reverse()&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">program</span><span class="hl-1"> = </span><span class="hl-2">env</span><span class="hl-1">.</span><span class="hl-7">program</span><span class="hl-1">(</span><span class="hl-2">ast</span><span class="hl-1">);</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-2">program</span><span class="hl-1">.</span><span class="hl-7">eval</span><span class="hl-1">().</span><span class="hl-7">value</span><span class="hl-1">()); </span><span class="hl-4">// &quot;ababab - olleh&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:standard-library" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Standard Library<a href="#md:standard-library" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:operators" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Operators<a href="#md:operators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code></td>
<td>Arithmetic</td>
</tr>
<tr>
<td><code>==</code>, <code>!=</code></td>
<td>Equality</td>
</tr>
<tr>
<td><code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code></td>
<td>Comparison</td>
</tr>
<tr>
<td><code>&amp;&amp;</code>, <code>||</code>, <code>!</code></td>
<td>Logical</td>
</tr>
<tr>
<td><code>in</code></td>
<td>Membership</td>
</tr>
<tr>
<td><code>? :</code></td>
<td>Ternary conditional</td>
</tr>
</tbody>
</table>
<a id="md:functions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Functions<a href="#md:functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>size()</code></td>
<td>Length of string, bytes, list, or map</td>
</tr>
<tr>
<td><code>contains()</code></td>
<td>String contains substring</td>
</tr>
<tr>
<td><code>startsWith()</code></td>
<td>String starts with prefix</td>
</tr>
<tr>
<td><code>endsWith()</code></td>
<td>String ends with suffix</td>
</tr>
<tr>
<td><code>type()</code></td>
<td>Get type of value</td>
</tr>
<tr>
<td><code>int()</code>, <code>uint()</code>, <code>double()</code>, <code>string()</code>, <code>bytes()</code></td>
<td>Type conversions</td>
</tr>
</tbody>
</table>
<a id="md:architecture" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Architecture<a href="#md:architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>See <a href="media/cel-ts-architecture.md">docs/cel-ts-architecture.md</a> for detailed architecture documentation.</p>
<pre><code><span class="hl-2">Expression</span><span class="hl-1"> � </span><span class="hl-2">Parse</span><span class="hl-1"> � </span><span class="hl-2">Check</span><span class="hl-1"> � </span><span class="hl-2">Plan</span><span class="hl-1"> � </span><span class="hl-2">Eval</span><span class="hl-1"> � </span><span class="hl-2">Result</span><br/><span class="hl-1">              �       �       �       �</span><br/><span class="hl-1">             </span><span class="hl-6">AST</span><span class="hl-1">   </span><span class="hl-2">Typed</span><span class="hl-1">   </span><span class="hl-2">Inter</span><span class="hl-1">-   </span><span class="hl-2">Value</span><br/><span class="hl-1">                   </span><span class="hl-6">AST</span><span class="hl-1">    </span><span class="hl-2">pretable</span>
</code><button>Copy</button></pre>

<a id="md:development" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Development<a href="#md:development" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-4"># Install dependencies</span><br/><span class="hl-7">pnpm</span><span class="hl-1"> </span><span class="hl-3">install</span><br/><br/><span class="hl-4"># Run tests</span><br/><span class="hl-7">pnpm</span><span class="hl-1"> </span><span class="hl-3">test</span><br/><br/><span class="hl-4"># Run tests in watch mode</span><br/><span class="hl-7">pnpm</span><span class="hl-1"> </span><span class="hl-3">test:watch</span><br/><br/><span class="hl-4"># Type check</span><br/><span class="hl-7">pnpm</span><span class="hl-1"> </span><span class="hl-3">typecheck</span><br/><br/><span class="hl-4"># Lint</span><br/><span class="hl-7">pnpm</span><span class="hl-1"> </span><span class="hl-3">lint</span><br/><br/><span class="hl-4"># Build</span><br/><span class="hl-7">pnpm</span><span class="hl-1"> </span><span class="hl-3">build</span><br/><br/><span class="hl-4"># Generate documentation</span><br/><span class="hl-7">pnpm</span><span class="hl-1"> </span><span class="hl-3">docs</span>
</code><button type="button">Copy</button></pre>

<a id="md:comparison-with-cel-go" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Comparison with cel-go<a href="#md:comparison-with-cel-go" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Feature</th>
<th>cel-go</th>
<th>cel-ts</th>
</tr>
</thead>
<tbody>
<tr>
<td>Language</td>
<td>Go</td>
<td>TypeScript</td>
</tr>
<tr>
<td>Error Handling</td>
<td><code>(result, error)</code> tuples</td>
<td>Exceptions</td>
</tr>
<tr>
<td>Integers</td>
<td><code>int64</code></td>
<td><code>bigint</code></td>
</tr>
<tr>
<td>API Style</td>
<td>Method chaining</td>
<td>Same</td>
</tr>
<tr>
<td>Standard Library</td>
<td>Full</td>
<td>Core subset</td>
</tr>
<tr>
<td>Macros</td>
<td><code>all</code>, <code>exists</code>, <code>map</code>, <code>filter</code></td>
<td>Planned</td>
</tr>
<tr>
<td>Proto Support</td>
<td>Full</td>
<td>Planned</td>
</tr>
</tbody>
</table>
<a id="md:license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Apache License 2.0</p>
<a id="md:contributing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Contributing<a href="#md:contributing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Contributions are welcome! Please feel free to submit a Pull Request.</p>
<a id="md:related-projects" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Related Projects<a href="#md:related-projects" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://github.com/google/cel-go" target="_blank" class="external">cel-go</a> - Go implementation (reference)</li>
<li><a href="https://github.com/google/cel-spec" target="_blank" class="external">cel-spec</a> - CEL specification</li>
<li><a href="https://github.com/google/cel-cpp" target="_blank" class="external">cel-cpp</a> - C++ implementation</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:cel-ts"><span>cel-<wbr/>ts</span></a><ul><li><a href="#md:features"><span>Features</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#md:api-reference"><span>API <wbr/>Reference</span></a></li><li><ul><li><a href="#md:environment"><span>Environment</span></a></li><li><a href="#md:environment-options"><span>Environment <wbr/>Options</span></a></li><li><a href="#md:types"><span>Types</span></a></li><li><a href="#md:compilation-and-evaluation"><span>Compilation and <wbr/>Evaluation</span></a></li><li><a href="#md:error-handling"><span>Error <wbr/>Handling</span></a></li></ul></li><li><a href="#md:cel-expression-examples"><span>CEL <wbr/>Expression <wbr/>Examples</span></a></li><li><a href="#md:custom-functions"><span>Custom <wbr/>Functions</span></a></li><li><a href="#md:standard-library"><span>Standard <wbr/>Library</span></a></li><li><ul><li><a href="#md:operators"><span>Operators</span></a></li><li><a href="#md:functions"><span>Functions</span></a></li></ul></li><li><a href="#md:architecture"><span>Architecture</span></a></li><li><a href="#md:development"><span>Development</span></a></li><li><a href="#md:comparison-with-cel-go"><span>Comparison with cel-<wbr/>go</span></a></li><li><a href="#md:license"><span>License</span></a></li><li><a href="#md:contributing"><span>Contributing</span></a></li><li><a href="#md:related-projects"><span>Related <wbr/>Projects</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/example/cel-ts" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>cel-ts - v0.1.0-alpha</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
